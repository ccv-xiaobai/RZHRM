(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23d210ff"],{"488f":function(t,e,a){"use strict";a.r(e);a("14d9");var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dashboard-container"},[e("div",{staticClass:"app-container"},[e("page-tools",{attrs:{"show-before":!0},scopedSlots:t._u([{key:"before",fn:function(){return[t._v("当前审批中 0 本月审批通过 1 本月审批驳回 0")]},proxy:!0},{key:"after",fn:function(){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$router.push("/approval/securitySetting")}}},[t._v("流程设置")])]},proxy:!0}])}),e("el-card",{staticClass:"hr-block"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"default-sort":{prop:"date",order:"descending"}}},[e("el-table-column",{attrs:{type:"selection",width:"30"}}),e("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),e("el-table-column",{attrs:{prop:"processName",label:"审批类型",sortable:""}}),e("el-table-column",{attrs:{prop:"username",label:"申请人",sortable:""}}),e("el-table-column",{attrs:{prop:"procCurrNodeUserName",label:"当前审批人",sortable:""}}),e("el-table-column",{attrs:{label:"审批发起时间",sortable:""}},[[e("span",[t._v(t._s((new Date).toLocaleString()))])]],2),e("el-table-column",{attrs:{prop:"process_state",label:"审批状态",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return["0"===a.row.processState?e("span",{staticClass:"rovalsState"},[e("em",{staticClass:"sub"}),t._v("已提交 ")]):t._e(),"1"===a.row.processState?e("span",{staticClass:"rovalsState"},[e("em",{staticClass:"stay"}),t._v("审批中 ")]):t._e(),"2"===a.row.processState?e("span",{staticClass:"rovalsState"},[e("em",{staticClass:"adopt"}),t._v("审批通过 ")]):t._e(),"3"===a.row.processState?e("span",{staticClass:"rovalsState"},[e("em",{staticClass:"reject"}),t._v("审批不通过 ")]):t._e(),"4"===a.row.processState?e("span",{staticClass:"rovalsState"},[e("em",{staticClass:"revoke"}),t._v("撤销 ")]):t._e()]}}])}),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.toDetail(a.row)}}},[t._v(" 查看 ")])]}}])})],1),e("el-row",{staticStyle:{height:"60px"},attrs:{type:"flex",align:"middle",justify:"center"}},[e("el-pagination",{attrs:{total:t.page.total,"page-size":t.page.pagesize,layout:"prev, pager, next"},on:{"current-change":t.changePage}})],1)],1)],1)])},r=[],n=a("c7eb"),o=a("5530"),c=a("1da1"),l=a("a912"),i=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"page-tools"},[e("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[e("el-col",[t.showBefore?e("div",{staticClass:"before"},[e("i",{staticClass:"el-icon-info"}),t._t("before")],2):t._e()]),e("el-col",[e("el-row",{attrs:{type:"flex",justify:"end"}},[t._t("after")],2)],1)],1)],1)},u=[],p={props:{showBefore:{type:Boolean,default:!1}}},d=p,f=(a("f35e"),a("2877")),b=Object(f["a"])(d,i,u,!1,null,null,null),v=b.exports,h={name:"SocialTableIndex",components:{pageTools:v},data:function(){return{list:[],loading:!1,page:{page:1,total:0,pageSize:10}}},created:function(){this.getApprovalList()},methods:{getApprovalList:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,s,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(l["b"])(Object(o["a"])({year:2018},t.page));case 3:a=e.sent,s=a.rows,r=a.total,t.page.total=r,t.list=s,t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},toDetail:function(t){var e=t.processName;switch(e){case"工资":this.$router.push({path:"/approval/salaryApproval/"+t.processId});break;case"入职":this.$router.push({path:"/approval/enterApproval/"+t.processId});break;case"请假":this.$router.push({path:"/approval/leaveApproval/"+t.processId});break;case"离职":this.$router.push({path:"/approval/quitApproval/"+t.processId});break;case"加班":this.$router.push({path:"/approval/overtimeApproval/"+t.processId})}},changePage:function(t){this.page.newPage=t,this.getApprovalList()}}},g=h,m=Object(f["a"])(g,s,r,!1,null,null,null);e["default"]=m.exports},"7cde":function(t,e,a){},a912:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"f",(function(){return n})),a.d(e,"g",(function(){return o})),a.d(e,"j",(function(){return c})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return u})),a.d(e,"e",(function(){return p})),a.d(e,"k",(function(){return d}));a("99af");var s=a("b775");function r(t){return Object(s["a"])({url:"/user/process/instance/".concat(t.page,"/").concat(t.pageSize),method:"put",data:t})}function n(t){return Object(s["a"])({url:"/user/process/instance/getById/".concat(t)})}function o(t){return Object(s["a"])({url:"/approvals/flows/".concat(t)})}function c(t){return Object(s["a"])({url:"/approvals/setting",method:"put",data:t})}function l(t){return Object(s["a"])({url:"/user/process/instance/".concat(t)})}function i(t){return Object(s["a"])({url:"/user/process/instance/tasks/".concat(t)})}function u(t){return Object(s["a"])({url:"//user/process/buss/showBussImgById/".concat(t)})}function p(t){return Object(s["a"])({url:"/user/process/definition",params:t})}function d(t){return Object(s["a"])({url:"/user/process/suspend/".concat(t.processKey),params:t})}},f35e:function(t,e,a){"use strict";a("7cde")}}]);